<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml" dir="ltr">  <head>    <meta http-equiv="content-type" content="application/xhtml+xml; charset=iso-8859-1" />    <meta name="description" content="built-in oma2 help pages" />    <meta name="keywords" content="image processing" />    <meta name="author" content="oma developers" />    <link rel="stylesheet" type="text/css" href="Light/default.css" media="screen" />    <title>OMA2 Help</title>  </head>  <body>    <div class="container">      <div class="navigation">        <div class="title">          <h1>OMA2</h1>          <h2>- Help -</h2>        </div>        <a href="CommandIndex.html">Index</a> <a href="macro.html">Macro</a> <a          href="file.html">I          / O</a> <a href="display.html">Display</a> <a href="arithmetic.html">Processing</a>        <a href="index.html">First Steps</a>        <div class="clearer"><span></span></div>      </div>      <div class="holder">        <h1>File I/O Commands</h1>        COMPOSITE &lt;filename&gt; <br />        Create a composite image by appending the data in the specified file to        that which exists in the current image buffer. The width of the        specified file must be the same as that of the current image. The        OPENFLAG command works in conjunction with the COMPOSITE command in the        same way that it does with the GET command. <br />        <br />        COMTEMPIMAGE name <br />        Create a composite image by appending the data in the temporary image to        that which exists in the current image buffer. The width of the        specified file must be the same as that of the current image.<br />        <br />        FWDATMATLAB  &lt;filename&gt;<br />            Writes the data in the current buffer as a tab-delimited text file.        Format is a matrix of values that can be loaded directly into matlab.<br />        <br />        GET &lt;filename&gt;<br />            Loads the data from the specified file into the current image data        buffer. The "Get Data Files" prefix is used. The "Get Data Files" suffix        is used unless the specified filename has a suffix of .jpg, .tiff, .tif,        or .nef; in those cases no suffix is added and the appropriate decoding        routines are called according to the file type.<br />        <br />        GETSETTINGS [filename]<br />            Gets settings from the specified file (uses the appropriate prefix        and suffix specified in the preferences). If no filename is given, OMA        Settings from within the oma application are loaded.<br />        <br />        GETFUNCTION n filename<br />            Read in a tabulated function to be used by the LOOKUP command. n is        the function number to be defined. filename is file containing y=f(x)        data pairs, preceeded by number of table entries.<br />            Assumptions for tabulated functions:<br />            File format:<br />            first number is integer with the number of pairs to follow<br />            pairs are float with x followed by f(x) on the same line<br />            x values are ordered smallest to largest<br />            y = f(x) is single valued<br />        <br />        GETBINARYFILE &lt;filename&gt; rows columns headerBytes        bytesPerDataPoint swapBytesFlag [unsignedFlag]<br />            Read in a binary file with the specified parameters. If        bytesPerDataPoint is -sizeof(float), the binary data are treated as        float. Other reasonable values would be 1, 2, or 4.<br />        <br />        GMACRO &lt;filename&gt;<br />            Loads the contents of the specified file into the current macro        buffer.<br />        <br />        GETNEXT<br />            Get the next image from the file opened with the OPENFILE command.        If no additional image data is available, the open file is closed.<br />        <br />        GETFILENAMES NameFile<br />            Open NameFile (currently uses macro prefix and suffix) which        contains the names of files. The NEXTFILE command is used to open the        next file. NameFile is left open until all files have been accessed.<br />        <br />        NEXTFILE [prefix]<br />            Open the next file specified in the FileNames file that was opened        with the GetFileNames command. If a prefix is specified, that is added        to the name before trying to open the file. command_return_1 is the the        filename without any prefix and without the extension (last 4        characters).<br />        <br />        OPENFILE &lt;filename&gt;<br />            Reads data from the specified filename but does not close it. If        there is more than one image in the file, the GETNEXT command will read        the next image. This type of multi-image data file can be created with        the CREATEFILE, CONCATFILE, CLOSEFILE commands, or may be produced by        some cameras.<br />        <br />        SAVE &lt;filename&gt; <br />        Saves the current data buffer to the specified file.<br />        <br />        SAVSETTINGS [filename]<br />        Saves the current settings to the specified file (uses the appropriate        prefix and suffix specified in the preferences). If no filename is        given, OMA Settings are saved within the oma application. <br />        <br />        SATIFF &lt;filename&gt; <br />            Converts the contents of the OMA Image buffer to 8 bit unsigned data        and then uses the LibTIFF TIFFWriteEncodedStrip function to save the        data to a TIFF image specified on the command line. The 'save' file        prefixes are used. A ".tif" extension is automatically appended to the        filename. To save as a color image, use the COLORFLAG command to set the        flag appropriately.<br />        <br />        SATIFFSCALED min max &lt;filename&gt;<br />            Convert image to 16 bit and save as a TIFF file. Uses the specified        min and max for scaling rather than the min and max of the image in the        buffer. Results will be between 0 - 65535. Depending on min and max, the        image may be clipped or the full 16-bit dynamic range may not be used.        To save as a color image, use the COLORFLAG command to set the flag        appropriately.<br />        <br />        UPREFX type <br />            Force use of prefix/suffix specified by 'type.' Possible cases for        'type' include the following:<br />            s   Use Save File prefix and suffix for both saving and getting        files<br />            g   Use Get File prefix and suffix for both saving and getting files<br />            d   Use Default prefix and suffix<br />        <br />        CREATEFILE &lt;filename&gt;<br />            Opens a file with the specified name, saves the current data and        format information, and leaves the file open. Subsequently, the        CONCATFILE command can be used to add more data to the open file. use        CLOSEFILE to close the file. See also OPENFILE and GETNEXTFILE.<br />        <br />        CONCATFILE<br />            Saves the current data buffer to the file opened with the CREATEFILE        command. See also OPENFILE and GETNEXTFILE.<br />        <br />        CLOSEFILE<br />            Closes the file opened with the CREATEFILE command. See also        OPENFILE and GETNEXTFILE.<br />        <br />        FCLOSE<br />            Closes the currently open text file (there can be only one). The use        of FOPEN, FCLOSE, and FECHO allows derived values to be written to a        file from within a macro.<br />        <br />        FECHO string<br />            Writes the string to the file opened with FOPEN. A newLine is added        after the string unless the string ends in ..., in which case no newLine        is added. The use of FOPEN, FCLOSE, and FECHO allows derived values to        be written to a file from within a macro.<br />        <br />        FOPEN &lt;filename&gt;<br />            Open a text file with the name &lt;filename&gt; for I/O. The use of        FOPEN, FCLOSE, and FECHO allows derived values to be written to a file        from within a macro.<br />        <br />        <h1>Hardware I/O Commands [available in oma2cam]</h1>        <br />        AINPUT channel<br />            Read analog input from the specified channel on a LabJack U3.        Channel must be in the range 0-3; The voltage is returned in        command_return_1. [oma2cam only]<br />        <br />        AOUTPUT v1 v2<br />            Sends voltages to D/A converters 0 and 1 on a Labjack USB U3        analog/digital I/O device. [oma2cam only]<br />        <br />        CAPTURE file_name<br />            [This command is only available in oma2cam. libgphoto2 must be        installed.] Uses libgphoto2 calls to capture and download an image from        a digital camera that is recognized by libgphoto2 (and supports        capture).<br />        <br />        CAMLISTSETTINGS<br />            [This command is only available in oma2cam. libgphoto2 must be        installed.] Uses gphoto2 calls to list the settings of the camera that        can be set, along with their current values.<br />        <br />        CAMGETSETTING  name<br />            [This command is only available in oma2cam. libgphoto2 must be        installed.] Uses gphoto2 calls to list the current value of the        specified setting, along with the allowed values for resetting it.<br />        <br />        CAMSETSETTING  name  new_setting_value<br />            [This command is only available in oma2cam. libgphoto2 must be        installed.] Uses gphoto2 calls to reset the value of the specified        setting to the new value. For a listing of valid setting values, use the        GETCAMSETTING command.<br />        <br />        CAMCLOSE<br />            [This command is only available in oma2cam. libgphoto2 must be        installed.] Disconnects from the digital camera accessed through        gphoto2.<br />        <br />        DOUTPUT channel state<br />            Sets the specified digital output channel on a Labjack U3 to the        specified state (0 or 1). Channel must be in the range 4-7. [oma2cam        only]<br />        <br />        EXPOSURE exposureValue<br />            Sets an exposure time to be used in generating HDR images. If no        argument is given, the value of the current exposure is echoed.<br />        <br />        GIGE command<br />            Available in oma2cam. Commands are as follows:<br />            ACQuire (gets frames in MULTIFRAME mode)<br />            EXPosure &lt;exposureTime&gt; (in microseconds)<br />            GAIn &lt;gain&gt; (0 or 33)<br />            NUMber &lt;numberOfFrames&gt; (to be acquired by the ACQUIRE        command; default is 1)<br />            RATe &lt;frameRate&gt;<br />            LABON (label frames)<br />            LABOFf (don't label frames)<br />            PREview &lt;numberFrames&gt; (show preview for specified number of        frames)<br />            EXTernal (set external triggering)<br />            INTernal (set internal triggering)<br />            DELay &lt;triggerDelay&gt; (set the trigger delay [microseconds])<br />            SFRames &lt;filename&gt; &lt;numFrames&gt; (save the specified        number of frames using the specified filename. Uses FREERUN mode. Also        saves a text file showing frame times.)<br />            STAtus (print camera settings)<br />            FIXbad &lt;flag&gt; (set flag to 1 to clear bad pixels before        display or save --&gt; must use FINDBAD first)<br />            DISplay &lt;flag&gt; (set flag to 1 to display during acqusition)<br />            HDR &lt;filename&gt; &lt;numFrames&gt; &lt;multiplier&gt; (save the        specified number of frames using the specified filename. Subsequent        exposure times are multiplied by the multiplier.)<br />        <br />        SERCLOSE<br />            Closes the serial port opened with the last "SERIAL device_name"        command. This can be used if you need to talk to more than one serial        device -- open device 1, send commands, close the serial port, open        device 2, send commands, and so forth. Available in oma2cam.<br />        <br />        SERIAL device_name (or character_string) [baudRate Timeout]<br />            Provides a simple way of sending text strings to a serial device.        For example, a KeySpan USB to serial converter can be used to control a        variety stepping motor controllers, spectrographs, arduinos etc. The        device name should be something like "/dev/tty.KeySpan1" Note that        upper/lower case matters on these specifications. Look in the "/dev"        directory to find the name of your specific hardware. When opening a        device, the baud rate and timeout value (in thenths of seconds) can be        specified. Defaults are baud = 9600 and timeout = 0. After opening the        device with the first SERIAL command, subsequent SERIAL commands will        send across the specified character_string, followed by a &lt;CR&gt;.        This uses standard POSIX calls.  Available in oma2cam.<br />        <br />        SBIG command_string [parameters]<br />            [This command is only available in oma2cam. The SBIG drivers must be        installed.]<br />            command_string specifies the SBIG command (listed below).<br />             Only the first 3 characters of SBIG commands matter.<br />             The values for parameters depend on the particular command.<br />            .<br />             SBIG command_strings:<br />             .<br />             EXPosure exposure_time<br />                Specify exposure_time in seconds. Does not take an image.<br />            .<br />             FILter<br />                 Specify which fillter to use.<br />            .<br />             TEMperature<br />                 Specify set temperature of the CCD in degrees C.<br />            .<br />             DISconnect<br />                 Close the device and driver.<br />            .<br />             STAtus <br />                 Print out CCD info, temperature, exposure, etc.<br />            .<br />             ACQuire <br />                Get an image using the current settings.<br />        <br />        WAITHI Channel<br />            Waits until the specified digital I/O channel is aserted high on a        LabJack U3. Channel must be in the range 4-7. [oma2cam only]<br />        <br />        <br />        <br />        <br />        <br />        <br />        <br />      </div>      <div class="footer">Brought to you by Developers of OMA<br />          </div>    </div>  </body></html>